
<!doctype html>
  <html>
  
  <head>
<style type="text/css">
.knitr .inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
 font-weight: bold;
 color: #FF0000;
}
.warning {
 font-weight: bold;
}
.message {
 font-style: italic;
}
.source, .output, .warning, .error, .message {
 padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.rimage .left {
  text-align: left;
}
.rimage .right {
  text-align: right;
}
.rimage .center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
  
  <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/d3plus-hierarchy@1"></script>
      
      <style>
      
      body {
        margin: 0;
        overflow: hidden;
      }
    
    </style>
      
      </head>
      
      <body></body>
      
      <script>
      
      // copy and paste the data from JSON
      
     var data = 
 

[
    {
        "id": "California",
        "value": "38965193.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Texas",
        "value": "30503301.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Florida",
        "value": "22610726.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "New York",
        "value": "19571216.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Pennsylvania",
        "value": "12961683.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Illinois",
        "value": "12549689.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Ohio",
        "value": "11785935.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Georgia",
        "value": "11029227.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "North Carolina",
        "value": "10835491.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Michigan",
        "value": "10037261.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "New Jersey",
        "value": "9290841.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Virginia",
        "value": "8715698.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Washington",
        "value": "7812880.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Arizona",
        "value": "7431344.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Tennessee",
        "value": "7126489.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Massachusetts",
        "value": "7001399.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Indiana",
        "value": "6862199.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Missouri",
        "value": "6196156.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Maryland",
        "value": "6180253.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Wisconsin",
        "value": "5910955.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Colorado",
        "value": "5877610.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Minnesota",
        "value": "5737915.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "South Carolina",
        "value": "5373555.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Alabama",
        "value": "5108468.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Louisiana",
        "value": "4573749.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Kentucky",
        "value": "4526154.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Oregon",
        "value": "4233358.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Oklahoma",
        "value": "4053824.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Connecticut",
        "value": "3617176.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Utah",
        "value": "3417734.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Iowa",
        "value": "3207004.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Puerto Rico",
        "value": "3205691.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Nevada",
        "value": "3194176.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Arkansas",
        "value": "3067732.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Kansas",
        "value": "2940546.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Mississippi",
        "value": "2939690.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "New Mexico",
        "value": "2114371.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Nebraska",
        "value": "1978379.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Idaho",
        "value": "1964726.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "West Virginia",
        "value": "1770071.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Hawaii",
        "value": "1435138.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "New Hampshire",
        "value": "1402054.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Maine",
        "value": "1395722.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Montana",
        "value": "1132812.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Rhode Island",
        "value": "1095962.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Delaware",
        "value": "1031890.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "South Dakota",
        "value": "919318.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "North Dakota",
        "value": "783926.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Alaska",
        "value": "733406.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "District of Columbia",
        "value": "678972.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Vermont",
        "value": "647464.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Wyoming",
        "value": "584057.00",
        "parent": "USA",
        "parent2": "USA",
        "color": "#B22234"
    },
    {
        "id": "Austria",
        "value": "9158750.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Belgium",
        "value": "11832049.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Bulgaria",
        "value": "6445481.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Croatia",
        "value": "3861967.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Cyprus",
        "value": "933505.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Czech Republic",
        "value": "10900555.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Denmark",
        "value": "5961249.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Estonia",
        "value": "1374687.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Finland",
        "value": "5603851.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "France",
        "value": "68401977.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Germany",
        "value": "83445000.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Greece",
        "value": "10397193.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Hungary",
        "value": "9584627.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Ireland",
        "value": "5343805.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Italy",
        "value": "58989749.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Latvia",
        "value": "1871882.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Lithuania",
        "value": "2885891.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Luxembourg",
        "value": "672050.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Malta",
        "value": "563443.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Netherlands",
        "value": "17942942.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Poland",
        "value": "36620970.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Portugal",
        "value": "10639726.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Romania",
        "value": "19064409.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Slovakia",
        "value": "5424687.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Slovenia",
        "value": "2123949.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Spain",
        "value": "48610458.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "Sweden",
        "value": "10551707.00",
        "parent": "Europe",
        "parent2": "EU27",
        "color": "#003399"
    },
    {
        "id": "United Kingdom",
        "value": "68179315",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Ukraine",
        "value": "41048766",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Switzerland",
        "value": "8792182",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Bulgaria",
        "value": "6825864",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Serbia",
        "value": "6791213",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Norway",
        "value": "5457801",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Bosnia and Herzegovina",
        "value": "3204802",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Moldova",
        "value": "3039985",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Albania",
        "value": "2827608",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "North Macedonia",
        "value": "1840233",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Kosovo",
        "value": "1717946",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Montenegro",
        "value": "614648",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Iceland",
        "value": "380356",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Liechtenstein",
        "value": "39317",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    },
    {
        "id": "Monaco",
        "value": "38931",
        "parent": "Europe",
        "parent2": "EU+",
        "color": "#FFD700"
    }
]

;

      new d3plus.Treemap()
      .data(data)
      .groupBy(["parent", "parent2", "id"])
      .tooltipConfig({
      body: function(d) {
        var table ="<table class='tooltip-table'>";
        table +="<tr><td class='title'>Population:</td><td class='data'>"+ d.value/1000000 +"</td></tr>";
        table +="</table>";
        return table;
      },
      title: function(d) {
        var txt = d.id;
        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();;
      }
    })
      .sum("value")
      .legendPosition("bottom")
      .layoutPadding(1.25)
      .legendConfig({
        padding: 10,
        shapeConfig: {
          padding: 0,
          labelConfig: {
            fontSize: 14,
            width: 200
          }
        }
      })
      // .legendConfig({
      //   outerBounds: {"width": 2000, "height": 24, "x": 10, "y": 20},
      //   padding: 0,
      //   titleConfig: {
      //     width: 2000
      //   },
      //   shapeConfig: {
      //     width: 12,
      //     height: 12,
      //     Rect: {
      //       labelConfig: {
      //       fontSize: function(d){ return 22},
      //       width: function(d){ return 500},
      //     }
      //     },
      //     labelConfig: {
      //       fontSize: function(d){ return 22},
      //       width: function(d){ return 200},
      //     }
      //   },
      // })
      .color("color")
      //.time({           
      // "value":"year",
      // "solo": 2001
      //})
      .render();
      
      </script>
        
        </html>
        
