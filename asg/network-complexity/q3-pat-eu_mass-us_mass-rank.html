
<!doctype html>
<html>

<head>

  <meta charset="utf-8">
  <script src="https://www.paballand.com/js/d3plus-plot.v0.9.full.min.js"></script>



  <style>

 

    body {
      margin: 0;
      overflow: hidden;
    }

    .tooltip-table {
      width: 100%;
    }
    
    .tooltip-table .data {
      text-align: right;
    }
    
    .tooltip-footer {
      opacity: 0.5;
    }

     tspan {
    font-family: "Helvetica", "Arial", sans-serif;
    font-size: 100px;
    font-style: oblique;
  }
  </style>


</head>

<body></body>

<script>

  var data = [{"id":"Analysis of biological materials","comp_pat":15.94,"normalized_ubiquity_pat":1.0379,"us_mass_ij_pat":2.2958,"eu_mass_ij_pat":1.11,"us_eu_mass_ij_pat":2.2228,"domain":"Analysis of biological materials","comp_pub":4.96,"normalized_ubiquity_pub":1.1625,"us_mass_ij_pub":2.7982,"eu_mass_ij_pub":2.0577,"us_eu_mass_ij_pub":2.4334,"parent":"Instruments","color":"#350055","x":8,"y":26,"count":1},{"id":"Audio-visual technology","comp_pat":64.42,"normalized_ubiquity_pat":0.3852,"us_mass_ij_pat":1.972,"eu_mass_ij_pat":1.3547,"us_eu_mass_ij_pat":2.1334,"domain":"Audio-visual technology","comp_pub":88.12,"normalized_ubiquity_pub":0.6422,"us_mass_ij_pub":2.8055,"eu_mass_ij_pub":2.175,"us_eu_mass_ij_pub":2.4984,"parent":"Electrical engineering","color":"#0C007E","x":13,"y":21,"count":1},{"id":"Basic communication processes","comp_pat":42.43,"normalized_ubiquity_pat":0.427,"us_mass_ij_pat":1.8214,"eu_mass_ij_pat":0.844,"us_eu_mass_ij_pat":2.0988,"domain":"Basic communication processes","comp_pub":9.91,"normalized_ubiquity_pub":0.8052,"us_mass_ij_pub":2.7204,"eu_mass_ij_pub":2.0245,"us_eu_mass_ij_pub":2.4546,"parent":"Electrical engineering","color":"#160074","x":3,"y":14,"count":1},{"id":"Basic materials chemistry","comp_pat":5.39,"normalized_ubiquity_pat":1.234,"us_mass_ij_pat":1.7083,"eu_mass_ij_pat":1.8732,"us_eu_mass_ij_pat":1.7951,"domain":"Basic materials chemistry","comp_pub":98.34,"normalized_ubiquity_pub":0.9395,"us_mass_ij_pub":2.5359,"eu_mass_ij_pub":2.1979,"us_eu_mass_ij_pub":2.3025,"parent":"Chemistry","color":"#70001A","x":30,"y":11,"count":1},{"id":"Biotechnology","comp_pat":15.65,"normalized_ubiquity_pat":1.1176,"us_mass_ij_pat":2.4617,"eu_mass_ij_pat":1.1538,"us_eu_mass_ij_pat":2.2887,"domain":"Biotechnology","comp_pub":13.7,"normalized_ubiquity_pub":1.001,"us_mass_ij_pub":2.9603,"eu_mass_ij_pub":2.0642,"us_eu_mass_ij_pub":2.5069,"parent":"Chemistry","color":"#390051","x":11,"y":30,"count":1},{"id":"Chemical engineering","comp_pat":7.96,"normalized_ubiquity_pat":1.6325,"us_mass_ij_pat":1.8659,"eu_mass_ij_pat":1.3884,"us_eu_mass_ij_pat":2.0406,"domain":"Chemical engineering","comp_pub":87.61,"normalized_ubiquity_pub":0.991,"us_mass_ij_pub":2.3529,"eu_mass_ij_pub":2.1069,"us_eu_mass_ij_pub":2.2168,"parent":"Chemistry","color":"#5E002C","x":15,"y":17,"count":1},{"id":"Civil engineering","comp_pat":7.64,"normalized_ubiquity_pat":1.4643,"us_mass_ij_pat":1.6202,"eu_mass_ij_pat":1.2591,"us_eu_mass_ij_pat":1.9091,"domain":"Civil engineering","comp_pub":80.15,"normalized_ubiquity_pub":0.9535,"us_mass_ij_pub":2.5733,"eu_mass_ij_pub":2.2155,"us_eu_mass_ij_pub":2.3267,"parent":"Other fields","color":"#620028","x":12,"y":8,"count":1},{"id":"Computer technology","comp_pat":79.19,"normalized_ubiquity_pat":0.6491,"us_mass_ij_pat":2.1737,"eu_mass_ij_pat":1.4464,"us_eu_mass_ij_pat":2.2862,"domain":"Computer technology","comp_pub":83.22,"normalized_ubiquity_pub":0.8292,"us_mass_ij_pub":2.7314,"eu_mass_ij_pub":2.1297,"us_eu_mass_ij_pub":2.4122,"parent":"Electrical engineering","color":"#080082","x":18,"y":25,"count":1},{"id":"Control","comp_pat":32.82,"normalized_ubiquity_pat":0.9636,"us_mass_ij_pat":1.9611,"eu_mass_ij_pat":1.6496,"us_eu_mass_ij_pat":2.0946,"domain":"Control","comp_pub":89.65,"normalized_ubiquity_pub":0.9575,"us_mass_ij_pub":2.0387,"eu_mass_ij_pub":2.5679,"us_eu_mass_ij_pub":2.4374,"parent":"Instruments","color":"#1A0070","x":25,"y":20,"count":1},{"id":"Digital communication","comp_pat":100,"normalized_ubiquity_pat":0.3751,"us_mass_ij_pat":2.4434,"eu_mass_ij_pat":2.3406,"us_eu_mass_ij_pat":2.123,"domain":"Digital communication","comp_pub":93.97,"normalized_ubiquity_pub":0.8327,"us_mass_ij_pub":2.5375,"eu_mass_ij_pub":2.2637,"us_eu_mass_ij_pub":2.4039,"parent":"Electrical engineering","color":"#00008B","x":31,"y":28,"count":1},{"id":"Electrical machinery, apparatus, energy","comp_pat":10.89,"normalized_ubiquity_pat":0.9056,"us_mass_ij_pat":1.8361,"eu_mass_ij_pat":1.3633,"us_eu_mass_ij_pat":1.8652,"domain":"Electrical machinery, apparatus, energy","comp_pub":85.29,"normalized_ubiquity_pub":1.1123,"us_mass_ij_pub":2.1503,"eu_mass_ij_pub":1.8483,"us_eu_mass_ij_pub":2.0344,"parent":"Electrical engineering","color":"#430047","x":14,"y":15,"count":1},{"id":"Engines, pumps, turbines","comp_pat":8.71,"normalized_ubiquity_pat":1.1881,"us_mass_ij_pat":1.1637,"eu_mass_ij_pat":1.4232,"us_eu_mass_ij_pat":1.4474,"domain":"Engines, pumps, turbines","comp_pub":94.9,"normalized_ubiquity_pub":0.888,"us_mass_ij_pub":2.0489,"eu_mass_ij_pub":2.4792,"us_eu_mass_ij_pub":2.4382,"parent":"Mechanical engineering","color":"#590031","x":17,"y":1,"count":1},{"id":"Environmental technology","comp_pat":8.77,"normalized_ubiquity_pat":1.302,"us_mass_ij_pat":1.3879,"eu_mass_ij_pat":1.1305,"us_eu_mass_ij_pat":1.6774,"domain":"Environmental technology","comp_pub":67.35,"normalized_ubiquity_pub":1.1327,"us_mass_ij_pub":2.7695,"eu_mass_ij_pub":2.1339,"us_eu_mass_ij_pub":2.3736,"parent":"Chemistry","color":"#550035","x":10,"y":4,"count":1},{"id":"Food chemistry","comp_pat":9.27,"normalized_ubiquity_pat":1.157,"us_mass_ij_pat":1.4762,"eu_mass_ij_pat":0.8246,"us_eu_mass_ij_pat":1.3717,"domain":"Food chemistry","comp_pub":44.82,"normalized_ubiquity_pub":1.4936,"us_mass_ij_pub":2.9187,"eu_mass_ij_pub":1.9374,"us_eu_mass_ij_pub":2.3297,"parent":"Chemistry","color":"#510039","x":2,"y":6,"count":1},{"id":"Green technologies","comp_pat":9.38,"normalized_ubiquity_pat":1.4638,"us_mass_ij_pat":1.8125,"eu_mass_ij_pat":1.4113,"us_eu_mass_ij_pat":1.8535,"domain":"Green technologies","comp_pub":49.47,"normalized_ubiquity_pub":1.1328,"us_mass_ij_pub":2.5361,"eu_mass_ij_pub":2.1104,"us_eu_mass_ij_pub":2.267,"parent":"Other fields","color":"#4B003F","x":16,"y":13,"count":1},{"id":"Handling","comp_pat":6.8,"normalized_ubiquity_pat":1.1591,"us_mass_ij_pat":1.8914,"eu_mass_ij_pat":0.8668,"us_eu_mass_ij_pat":1.992,"domain":"Handling","comp_pub":88.57,"normalized_ubiquity_pub":1.0653,"us_mass_ij_pub":2.6119,"eu_mass_ij_pub":2.089,"us_eu_mass_ij_pub":2.3149,"parent":"Mechanical engineering","color":"#670023","x":5,"y":18,"count":1},{"id":"IT methods for management","comp_pat":44.98,"normalized_ubiquity_pat":0.8513,"us_mass_ij_pat":1.9489,"eu_mass_ij_pat":1.5505,"us_eu_mass_ij_pat":2.2029,"domain":"IT methods for management","comp_pub":77.62,"normalized_ubiquity_pub":1.3878,"us_mass_ij_pub":2.6294,"eu_mass_ij_pub":2.0902,"us_eu_mass_ij_pub":2.2673,"parent":"Electrical engineering","color":"#10007A","x":22,"y":19,"count":1},{"id":"Machine tools","comp_pat":3.04,"normalized_ubiquity_pat":1.0136,"us_mass_ij_pat":1.5038,"eu_mass_ij_pat":1.4691,"us_eu_mass_ij_pat":1.6018,"domain":"Machine tools","comp_pub":91.3,"normalized_ubiquity_pub":1.2086,"us_mass_ij_pub":1.7077,"eu_mass_ij_pub":1.5577,"us_eu_mass_ij_pub":1.6102,"parent":"Mechanical engineering","color":"#7F000B","x":20,"y":7,"count":1},{"id":"Macromolecular chemistry, polymers","comp_pat":0,"normalized_ubiquity_pat":0.7914,"us_mass_ij_pat":1.6727,"eu_mass_ij_pat":1.7239,"us_eu_mass_ij_pat":1.7018,"domain":"Macromolecular chemistry, polymers","comp_pub":86.72,"normalized_ubiquity_pub":1.0859,"us_mass_ij_pub":2.9236,"eu_mass_ij_pub":2.1927,"us_eu_mass_ij_pub":2.3977,"parent":"Chemistry","color":"#860004","x":27,"y":9,"count":1},{"id":"Materials, metallurgy","comp_pat":3.04,"normalized_ubiquity_pat":1.1975,"us_mass_ij_pat":1.6811,"eu_mass_ij_pat":1.4815,"us_eu_mass_ij_pat":1.6505,"domain":"Materials, metallurgy","comp_pub":94.54,"normalized_ubiquity_pub":0.9928,"us_mass_ij_pub":2.4312,"eu_mass_ij_pub":2.0294,"us_eu_mass_ij_pub":2.173,"parent":"Chemistry","color":"#7F000B","x":21,"y":10,"count":1},{"id":"Mechanical elements","comp_pat":5.07,"normalized_ubiquity_pat":1.2435,"us_mass_ij_pat":1.3511,"eu_mass_ij_pat":1.6509,"us_eu_mass_ij_pat":1.5883,"domain":"Mechanical elements","comp_pub":96.28,"normalized_ubiquity_pub":1.0663,"us_mass_ij_pub":2.173,"eu_mass_ij_pub":1.8644,"us_eu_mass_ij_pub":1.986,"parent":"Mechanical engineering","color":"#740016","x":26,"y":3,"count":1},{"id":"Medical technology","comp_pat":18.59,"normalized_ubiquity_pat":1.3651,"us_mass_ij_pat":1.8089,"eu_mass_ij_pat":1.0384,"us_eu_mass_ij_pat":2.118,"domain":"Medical technology","comp_pub":0,"normalized_ubiquity_pub":0.9109,"us_mass_ij_pub":2.7749,"eu_mass_ij_pub":1.9282,"us_eu_mass_ij_pub":2.4242,"parent":"Instruments","color":"#2C005E","x":6,"y":12,"count":1},{"id":"Micro-structural and nano-technology","comp_pat":16.34,"normalized_ubiquity_pat":0.8282,"us_mass_ij_pat":2.1688,"eu_mass_ij_pat":0.8614,"us_eu_mass_ij_pat":1.9855,"domain":"Micro-structural and nano-technology","comp_pub":100,"normalized_ubiquity_pub":0.8928,"us_mass_ij_pub":2.6679,"eu_mass_ij_pub":2.168,"us_eu_mass_ij_pub":2.2857,"parent":"Chemistry","color":"#310059","x":4,"y":24,"count":1},{"id":"Optics","comp_pat":30.42,"normalized_ubiquity_pat":0.4205,"us_mass_ij_pat":2.1501,"eu_mass_ij_pat":1.0507,"us_eu_mass_ij_pat":2.1374,"domain":"Optics","comp_pub":69.23,"normalized_ubiquity_pub":0.5636,"us_mass_ij_pub":2.9025,"eu_mass_ij_pub":2.1787,"us_eu_mass_ij_pub":2.4115,"parent":"Instruments","color":"#1E006C","x":7,"y":23,"count":1},{"id":"Organic fine chemistry","comp_pat":10.03,"normalized_ubiquity_pat":1.1524,"us_mass_ij_pat":2.3796,"eu_mass_ij_pat":1.568,"us_eu_mass_ij_pat":2.0546,"domain":"Organic fine chemistry","comp_pub":75.06,"normalized_ubiquity_pub":1.3006,"us_mass_ij_pub":2.8907,"eu_mass_ij_pub":2.0737,"us_eu_mass_ij_pub":2.2655,"parent":"Chemistry","color":"#470043","x":23,"y":27,"count":1},{"id":"Pharmaceuticals","comp_pat":18.96,"normalized_ubiquity_pat":1.4084,"us_mass_ij_pat":2.455,"eu_mass_ij_pat":1.1165,"us_eu_mass_ij_pat":2.2726,"domain":"Pharmaceuticals","comp_pub":5.72,"normalized_ubiquity_pub":1.1552,"us_mass_ij_pub":3.0007,"eu_mass_ij_pub":1.9375,"us_eu_mass_ij_pub":2.4796,"parent":"Chemistry","color":"#280062","x":9,"y":29,"count":1},{"id":"Semiconductors","comp_pat":26.99,"normalized_ubiquity_pat":0.3875,"us_mass_ij_pat":2.6212,"eu_mass_ij_pat":0.7964,"us_eu_mass_ij_pat":2.6061,"domain":"Semiconductors","comp_pub":98.32,"normalized_ubiquity_pub":0.814,"us_mass_ij_pub":2.4202,"eu_mass_ij_pub":2.2573,"us_eu_mass_ij_pub":2.3466,"parent":"Electrical engineering","color":"#230067","x":1,"y":31,"count":1},{"id":"Surface technology, coating","comp_pat":3.96,"normalized_ubiquity_pat":0.8647,"us_mass_ij_pat":1.8508,"eu_mass_ij_pat":1.6107,"us_eu_mass_ij_pat":1.8926,"domain":"Surface technology, coating","comp_pub":95.49,"normalized_ubiquity_pub":0.9376,"us_mass_ij_pub":2.0527,"eu_mass_ij_pub":1.8523,"us_eu_mass_ij_pub":1.9992,"parent":"Chemistry","color":"#7A0010","x":24,"y":16,"count":1},{"id":"Telecommunications","comp_pat":80.88,"normalized_ubiquity_pat":0.3115,"us_mass_ij_pat":2.0865,"eu_mass_ij_pat":1.7379,"us_eu_mass_ij_pat":2.0718,"domain":"Telecommunications","comp_pub":94.44,"normalized_ubiquity_pub":0.8711,"us_mass_ij_pub":2.5856,"eu_mass_ij_pub":2.4264,"us_eu_mass_ij_pub":2.5415,"parent":"Electrical engineering","color":"#040086","x":29,"y":22,"count":1},{"id":"Thermal processes and apparatus","comp_pat":5.87,"normalized_ubiquity_pat":0.8527,"us_mass_ij_pat":1.342,"eu_mass_ij_pat":1.4527,"us_eu_mass_ij_pat":1.5453,"domain":"Thermal processes and apparatus","comp_pub":93.05,"normalized_ubiquity_pub":0.9762,"us_mass_ij_pub":2.1554,"eu_mass_ij_pub":2.2715,"us_eu_mass_ij_pub":2.2911,"parent":"Mechanical engineering","color":"#6C001E","x":19,"y":2,"count":1},{"id":"Transport","comp_pat":13.34,"normalized_ubiquity_pat":1.0354,"us_mass_ij_pat":1.4531,"eu_mass_ij_pat":1.7282,"us_eu_mass_ij_pat":1.6188,"domain":"Transport","comp_pub":84.3,"normalized_ubiquity_pub":0.8709,"us_mass_ij_pub":2.5143,"eu_mass_ij_pub":1.9872,"us_eu_mass_ij_pub":2.2501,"parent":"Mechanical engineering","color":"#3F004B","x":28,"y":5,"count":1}]




      

;

  new d3plus.Plot()
    .data(data)
    .groupBy(["parent", "id"])
    .tooltipConfig({
      body: function(d) {
        var table = "<table class='tooltip-table'>";
        table += "<tr><td class='title'>x:</td><td class='data'>" + d.x + "</td></tr>";
        table += "<tr><td class='title'>y:</td><td class='data'>" + d.y + "</td></tr>";
        table += "</table>";
        return table;
      },
      title: function(d) {
        var txt = d.id;
        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();;
      }
    })
    .size("count")
    .color("color")
    .sizeMin(5)
    .label(function(d){ 
      return d.id instanceof Array ? d.parent : d.id
    })
    .sizeMax(20)
    .shapeConfig({
      label(d){
        return d.id
      }, 
      Circle: {
        labelConfig: {
          fontColor: "#000",
          fontSize: 15,
          textAnchor: "start",
          verticalAlign: "middle"
        },
        labelBounds: (d, i, s) => ({width: 200, height: 30, x: s.r - 0, y: -0})
      },
    })
    .yConfig({
      title: "Mass Coefficient (United States)",
      titleConfig: {
        fontSize: function(d){ return 30}
      },
      shapeConfig: {
        labelConfig: {
          fontSize: function(d){ return 20}
        }
      }
    })
    .xDomain([1.45, 35])
    .xConfig({
      title: "Mass Coefficient (Europe)",
      titleConfig: {
        fontSize: function(d){ return 30}
      },
      shapeConfig: {
        labelConfig: {
          fontSize: function(d){ return 20}
        }
      }
    })
    .legend(false) 
    .downloadButton(true)
    .downloadConfig({type: "png"})
    .render();

</script>

</html>
