
<!doctype html>
<html>

<head>

  <meta charset="utf-8">
  <script src="https://www.paballand.com/js/d3plus-plot.v0.9.full.min.js"></script>



  <style>

 

    body {
      margin: 0;
      overflow: hidden;
    }

    .tooltip-table {
      width: 100%;
    }
    
    .tooltip-table .data {
      text-align: right;
    }
    
    .tooltip-footer {
      opacity: 0.5;
    }

     tspan {
    font-family: "Helvetica", "Arial", sans-serif;
    font-size: 100px;
    font-style: oblique;
  }
  </style>


</head>

<body></body>

<script>

  var data = 
      
[
    {
        "id": "Analysis of biological materials",
        "count": "20.42",
        "x": "0.80197656",
        "y": "1.82812929",
        "parent": "Instruments",
        "color": "#FFCC00"
    },
    {
        "id": "Audio-visual technology",
        "count": "77.84",
        "x": "0.94555736",
        "y": "1.61500061",
        "parent": "Electrical engineering",
        "color": "#003399"
    },
    {
        "id": "Basic communication processes",
        "count": "52.74",
        "x": "0.37451717",
        "y": "1.61496294",
        "parent": "Electrical engineering",
        "color": "#003399"
    },
    {
        "id": "Basic materials chemistry",
        "count": "6.52",
        "x": "2.17079306",
        "y": "1.3336252",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Biotechnology",
        "count": "17.28",
        "x": "0.65829271",
        "y": "1.97180951",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Chemical engineering",
        "count": "10.29",
        "x": "1.05458403",
        "y": "1.49493837",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Civil engineering",
        "count": "9.87",
        "x": "1.53021717",
        "y": "1.31351459",
        "parent": "Other fields",
        "color": "#4A0066"
    },
    {
        "id": "Computer technology",
        "count": "75.68",
        "x": "0.95693988",
        "y": "1.74871767",
        "parent": "Electrical engineering",
        "color": "#003399"
    },
    {
        "id": "Control",
        "count": "39.73",
        "x": "0.83065933",
        "y": "1.60382271",
        "parent": "Instruments",
        "color": "#FFCC00"
    },
    {
        "id": "Digital communication",
        "count": "100",
        "x": "1.43267798",
        "y": "1.97225904",
        "parent": "Electrical engineering",
        "color": "#003399"
    },
    {
        "id": "Electrical machinery, apparatus, energy",
        "count": "13.9",
        "x": "1.16341698",
        "y": "1.49483573",
        "parent": "Electrical engineering",
        "color": "#003399"
    },
    {
        "id": "Engines, pumps, turbines",
        "count": "10.71",
        "x": "1.33166981",
        "y": "0.94521254",
        "parent": "Mechanical engineering",
        "color": "#2E4D1C"
    },
    {
        "id": "Environmental technology",
        "count": "12.05",
        "x": "1.27392209",
        "y": "1.13638318",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Food chemistry",
        "count": "13.29",
        "x": "0.28811094",
        "y": "1.19777596",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Furniture, games",
        "count": "18.59",
        "x": "0.38585508",
        "y": "1.23937023",
        "parent": "Other fields",
        "color": "#4A0066"
    },
    {
        "id": "Green technologies",
        "count": "11.36",
        "x": "1.13550806",
        "y": "1.45095599",
        "parent": "Other fields",
        "color": "#4A0066"
    },
    {
        "id": "Handling",
        "count": "10",
        "x": "0.2679832",
        "y": "1.54769182",
        "parent": "Mechanical engineering",
        "color": "#2E4D1C"
    },
    {
        "id": "IT methods for management",
        "count": "53.02",
        "x": "0.59410304",
        "y": "1.61203671",
        "parent": "Electrical engineering",
        "color": "#003399"
    },
    {
        "id": "Machine tools",
        "count": "4.84",
        "x": "1.64439702",
        "y": "1.25694168",
        "parent": "Mechanical engineering",
        "color": "#2E4D1C"
    },
    {
        "id": "Macromolecular chemistry, polymers",
        "count": "0",
        "x": "1.91977954",
        "y": "1.30372",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Materials, metallurgy",
        "count": "4.6",
        "x": "1.37694144",
        "y": "1.38614631",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Measurement",
        "count": "20.74",
        "x": "0.882182",
        "y": "1.64435208",
        "parent": "Instruments",
        "color": "#FFCC00"
    },
    {
        "id": "Mechanical elements",
        "count": "6.91",
        "x": "1.47050238",
        "y": "1.0750283",
        "parent": "Mechanical engineering",
        "color": "#2E4D1C"
    },
    {
        "id": "Medical technology",
        "count": "22.66",
        "x": "0.52999985",
        "y": "1.4583168",
        "parent": "Instruments",
        "color": "#FFCC00"
    },
    {
        "id": "Micro-structural and nano-technology",
        "count": "20.96",
        "x": "0.70342356",
        "y": "1.93276548",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Optics",
        "count": "34.54",
        "x": "0.93056142",
        "y": "1.77573442",
        "parent": "Instruments",
        "color": "#FFCC00"
    },
    {
        "id": "Organic fine chemistry",
        "count": "11.77",
        "x": "1.72169805",
        "y": "1.87834084",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Other consumer goods",
        "count": "14.3",
        "x": "0.66005439",
        "y": "1.25469375",
        "parent": "Other fields",
        "color": "#4A0066"
    },
    {
        "id": "Other special machines",
        "count": "8.13",
        "x": "1.12371051",
        "y": "1.29222453",
        "parent": "Mechanical engineering",
        "color": "#2E4D1C"
    },
    {
        "id": "Pharmaceuticals",
        "count": "21.1",
        "x": "0.86957538",
        "y": "1.9582293",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Semiconductors",
        "count": "32.25",
        "x": "0.53789973",
        "y": "2.16349626",
        "parent": "Electrical engineering",
        "color": "#003399"
    },
    {
        "id": "Surface technology, coating",
        "count": "1.89",
        "x": "1.37331295",
        "y": "1.51465869",
        "parent": "Chemistry",
        "color": "#8B0000"
    },
    {
        "id": "Telecommunications",
        "count": "93.84",
        "x": "0.93656522",
        "y": "1.72788846",
        "parent": "Electrical engineering",
        "color": "#003399"
    },
    {
        "id": "Textile and paper machines",
        "count": "5.65",
        "x": "0.90498328",
        "y": "1.14837265",
        "parent": "Mechanical engineering",
        "color": "#2E4D1C"
    },
    {
        "id": "Thermal processes and apparatus",
        "count": "7.52",
        "x": "1.78284013",
        "y": "1.08891928",
        "parent": "Mechanical engineering",
        "color": "#2E4D1C"
    },
    {
        "id": "Transport",
        "count": "15.87",
        "x": "1.40781844",
        "y": "1.18055773",
        "parent": "Mechanical engineering",
        "color": "#2E4D1C"
    }
]

;

  new d3plus.Plot()
    .data(data)
    .groupBy(["parent", "id"])
    .tooltipConfig({
      body: function(d) {
        var table = "<table class='tooltip-table'>";
        table += "<tr><td class='title'>Complexity:</td><td class='data'>" + d.count + "</td></tr>";
        table += "<tr><td class='title'>EU:</td><td class='data'>" + d.x + "</td></tr>";
        table += "<tr><td class='title'>US:</td><td class='data'>" + d.y + "</td></tr>";
        table += "</table>";
        return table;
      },
      title: function(d) {
        var txt = d.id;
        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();;
      }
    })
    .size("count")
    .color("color")
    .sizeMin(5)
    .label(function(d){ 
      return d.id instanceof Array ? d.parent : d.id
    })
    .sizeMax(20)
    .shapeConfig({
      label(d){
        return d.id
      }, 
      Circle: {
        labelConfig: {
          fontColor: "#000",
          fontSize: 15,
          textAnchor: "start",
          verticalAlign: "middle"
        },
        labelBounds: (d, i, s) => ({width: 200, height: 30, x: s.r - 0, y: -0})
      },
    })
    .yConfig({
      title: "United States (mass)",
      titleConfig: {
        fontSize: function(d){ return 16}
      },
      shapeConfig: {
        labelConfig: {
          fontSize: function(d){ return 16}
        }
      }
    })
    .xDomain([0, 2])
    .xConfig({
      title: "Europe (mass)",
      titleConfig: {
        fontSize: function(d){ return 16}
      },
      shapeConfig: {
        labelConfig: {
          fontSize: function(d){ return 16}
        }
      }
    })
    .legendConfig({
      shapeConfig: {
        width: 24,
        height: 24,
        labelConfig: {
          fontSize: function(d){ return 22}
        }
      }
    })
    .downloadButton(true)
    .downloadConfig({type: "png"})
    .render();

</script>

</html>
