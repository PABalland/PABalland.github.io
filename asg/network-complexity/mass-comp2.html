
<!doctype html>
<html>

<head>

  <meta charset="utf-8">
  <script src="https://www.paballand.com/js/d3plus-plot.v0.9.full.min.js"></script>



  <style>

 

    body {
      margin: 0;
      overflow: hidden;
    }

    .tooltip-table {
      width: 100%;
    }
    
    .tooltip-table .data {
      text-align: right;
    }
    
    .tooltip-footer {
      opacity: 0.5;
    }

     tspan {
    font-family: "Helvetica", "Arial", sans-serif;
    font-size: 100px;
    font-style: oblique;
  }
  </style>


</head>

<body></body>

<script>

  var data = 
      
[
    {
        "id": "Analysis of biological materials",
        "count": "1",
        "comp": "15.94",
        "comp2": "1.03793596",
        "us": "2.23972726",
        "eu": "1.13275576",
        "us_eu": "2.06664777",
        "x": "1.03793596",
        "y": "2.06664777",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Audio-visual technology",
        "count": "1",
        "comp": "64.42",
        "comp2": "0.38519705",
        "us": "2.02439237",
        "eu": "1.64485073",
        "us_eu": "1.88020468",
        "x": "0.38519705",
        "y": "1.88020468",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Basic communication processes",
        "count": "1",
        "comp": "42.43",
        "comp2": "0.42703468",
        "us": "1.74436021",
        "eu": "1.07875001",
        "us_eu": "1.90541744",
        "x": "0.42703468",
        "y": "1.90541744",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Basic materials chemistry",
        "count": "1",
        "comp": "5.39",
        "comp2": "1.23401273",
        "us": "1.33454359",
        "eu": "2.43766594",
        "us_eu": "1.34414291",
        "x": "1.23401273",
        "y": "1.34414291",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Biotechnology",
        "count": "1",
        "comp": "15.65",
        "comp2": "1.11761762",
        "us": "2.26636696",
        "eu": "1.06111979",
        "us_eu": "2.0083611",
        "x": "1.11761762",
        "y": "2.0083611",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Chemical engineering",
        "count": "1",
        "comp": "7.96",
        "comp2": "1.63248995",
        "us": "1.68461502",
        "eu": "1.31873",
        "us_eu": "1.71777308",
        "x": "1.63248995",
        "y": "1.71777308",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Civil engineering",
        "count": "1",
        "comp": "7.64",
        "comp2": "1.46431724",
        "us": "1.33483338",
        "eu": "1.35425317",
        "us_eu": "1.57574356",
        "x": "1.46431724",
        "y": "1.57574356",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Computer technology",
        "count": "1",
        "comp": "79.19",
        "comp2": "0.64913615",
        "us": "1.97869015",
        "eu": "1.72665942",
        "us_eu": "2.01053762",
        "x": "0.64913615",
        "y": "2.01053762",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Control",
        "count": "1",
        "comp": "32.82",
        "comp2": "0.96361275",
        "us": "1.92857122",
        "eu": "2.13426089",
        "us_eu": "1.83083642",
        "x": "0.96361275",
        "y": "1.83083642",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Digital communication",
        "count": "1",
        "comp": "100",
        "comp2": "0.37505934",
        "us": "2.35596132",
        "eu": "3.1909225",
        "us_eu": "1.73145664",
        "x": "0.37505934",
        "y": "1.73145664",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Electrical machinery, apparatus, energy",
        "count": "1",
        "comp": "10.89",
        "comp2": "0.90557953",
        "us": "1.70552135",
        "eu": "1.30469275",
        "us_eu": "1.51064169",
        "x": "0.90557953",
        "y": "1.51064169",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Engines, pumps, turbines",
        "count": "1",
        "comp": "8.71",
        "comp2": "1.18810473",
        "us": "0.74525964",
        "eu": "1.64527619",
        "us_eu": "0.91127986",
        "x": "1.18810473",
        "y": "0.91127986",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Environmental technology",
        "count": "1",
        "comp": "8.77",
        "comp2": "1.30198646",
        "us": "1.1129005",
        "eu": "1.20127976",
        "us_eu": "1.24995685",
        "x": "1.30198646",
        "y": "1.24995685",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Food chemistry",
        "count": "1",
        "comp": "9.27",
        "comp2": "1.15700838",
        "us": "1.16782784",
        "eu": "0.5189991",
        "us_eu": "0.87321162",
        "x": "1.15700838",
        "y": "0.87321162",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Furniture, games",
        "count": "1",
        "comp": "13.86",
        "comp2": "1.08162728",
        "us": "1.12804163",
        "eu": "0.640136",
        "us_eu": "1.3333379",
        "x": "1.08162728",
        "y": "1.3333379",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Green technologies",
        "count": "1",
        "comp": "9.38",
        "comp2": "1.46382696",
        "us": "1.63683331",
        "eu": "1.50847387",
        "us_eu": "1.52422702",
        "x": "1.46382696",
        "y": "1.52422702",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Handling",
        "count": "1",
        "comp": "6.8",
        "comp2": "1.15909144",
        "us": "1.81407678",
        "eu": "0.43876302",
        "us_eu": "1.62883592",
        "x": "1.15909144",
        "y": "1.62883592",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "IT methods for management",
        "count": "1",
        "comp": "44.98",
        "comp2": "0.85131526",
        "us": "1.85898364",
        "eu": "2.32077789",
        "us_eu": "1.98709309",
        "x": "0.85131526",
        "y": "1.98709309",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Machine tools",
        "count": "1",
        "comp": "3.04",
        "comp2": "1.01360246",
        "us": "1.25322676",
        "eu": "1.56661224",
        "us_eu": "1.2315402",
        "x": "1.01360246",
        "y": "1.2315402",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Macromolecular chemistry, polymers",
        "count": "1",
        "comp": "0",
        "comp2": "0.79143569",
        "us": "1.33410132",
        "eu": "2.13824463",
        "us_eu": "1.26790798",
        "x": "0.79143569",
        "y": "1.26790798",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Materials, metallurgy",
        "count": "1",
        "comp": "3.04",
        "comp2": "1.19750585",
        "us": "1.45477378",
        "eu": "1.54617703",
        "us_eu": "1.25254476",
        "x": "1.19750585",
        "y": "1.25254476",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Measurement",
        "count": "1",
        "comp": "18.35",
        "comp2": "1.10515988",
        "us": "1.88953781",
        "eu": "1.42457616",
        "us_eu": "1.82307315",
        "x": "1.10515988",
        "y": "1.82307315",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Mechanical elements",
        "count": "1",
        "comp": "5.07",
        "comp2": "1.24351182",
        "us": "0.96604204",
        "eu": "1.74960423",
        "us_eu": "1.12304115",
        "x": "1.24351182",
        "y": "1.12304115",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Medical technology",
        "count": "1",
        "comp": "18.59",
        "comp2": "1.36511411",
        "us": "1.54838526",
        "eu": "0.80164033",
        "us_eu": "1.76987123",
        "x": "1.36511411",
        "y": "1.76987123",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Micro-structural and nano-technology",
        "count": "1",
        "comp": "16.34",
        "comp2": "0.82817534",
        "us": "2.40852547",
        "eu": "0.56777591",
        "us_eu": "1.93028378",
        "x": "0.82817534",
        "y": "1.93028378",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Optics",
        "count": "1",
        "comp": "30.42",
        "comp2": "0.42051951",
        "us": "2.20370269",
        "eu": "0.99509186",
        "us_eu": "1.89875162",
        "x": "0.42051951",
        "y": "1.89875162",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Organic fine chemistry",
        "count": "1",
        "comp": "10.03",
        "comp2": "1.15241427",
        "us": "2.14351535",
        "eu": "1.85439742",
        "us_eu": "1.7185719",
        "x": "1.15241427",
        "y": "1.7185719",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Other consumer goods",
        "count": "1",
        "comp": "11.41",
        "comp2": "1.03623874",
        "us": "1.18449759",
        "eu": "1.08989978",
        "us_eu": "1.19103146",
        "x": "1.03623874",
        "y": "1.19103146",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Other special machines",
        "count": "1",
        "comp": "7.51",
        "comp2": "1.66566671",
        "us": "1.3579284",
        "eu": "1.23370552",
        "us_eu": "1.28156471",
        "x": "1.66566671",
        "y": "1.28156471",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Pharmaceuticals",
        "count": "1",
        "comp": "18.96",
        "comp2": "1.4083543",
        "us": "2.20164251",
        "eu": "1.02701819",
        "us_eu": "1.96004295",
        "x": "1.4083543",
        "y": "1.96004295",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Semiconductors",
        "count": "1",
        "comp": "26.99",
        "comp2": "0.38748333",
        "us": "2.67285132",
        "eu": "0.89411581",
        "us_eu": "2.62013054",
        "x": "0.38748333",
        "y": "2.62013054",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Surface technology, coating",
        "count": "1",
        "comp": "3.96",
        "comp2": "0.86469735",
        "us": "1.78676319",
        "eu": "1.77459288",
        "us_eu": "1.59263456",
        "x": "0.86469735",
        "y": "1.59263456",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Telecommunications",
        "count": "1",
        "comp": "80.88",
        "comp2": "0.31147972",
        "us": "2.02546191",
        "eu": "2.44129944",
        "us_eu": "1.75358093",
        "x": "0.31147972",
        "y": "1.75358093",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Textile and paper machines",
        "count": "1",
        "comp": "5.36",
        "comp2": "0.92553861",
        "us": "1.04094934",
        "eu": "0.98276913",
        "us_eu": "1.0531379",
        "x": "0.92553861",
        "y": "1.0531379",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Thermal processes and apparatus",
        "count": "1",
        "comp": "5.87",
        "comp2": "0.85273432",
        "us": "1.02783096",
        "eu": "1.57473922",
        "us_eu": "1.09733355",
        "x": "0.85273432",
        "y": "1.09733355",
        "parent": "blue",
        "color": "blue"
    },
    {
        "id": "Transport",
        "count": "1",
        "comp": "13.34",
        "comp2": "1.0354012",
        "us": "1.05549574",
        "eu": "1.86226392",
        "us_eu": "1.11319935",
        "x": "1.0354012",
        "y": "1.11319935",
        "parent": "blue",
        "color": "blue"
    }
]
;

  new d3plus.Plot()
    .data(data)
    .groupBy(["parent", "id"])
    .tooltipConfig({
      body: function(d) {
        var table = "<table class='tooltip-table'>";
        table += "<tr><td class='title'>Complexity:</td><td class='data'>" + d.count + "</td></tr>";
        table += "<tr><td class='title'>EU:</td><td class='data'>" + d.x + "</td></tr>";
        table += "<tr><td class='title'>US:</td><td class='data'>" + d.y + "</td></tr>";
        table += "</table>";
        return table;
      },
      title: function(d) {
        var txt = d.id;
        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();;
      }
    })
    .size("count")
    .color("color")
    .sizeMin(5)
    .label(function(d){ 
      return d.id instanceof Array ? d.parent : d.id
    })
    .sizeMax(20)
    .shapeConfig({
      label(d){
        return d.id
      }, 
      Circle: {
        labelConfig: {
          fontColor: "#000",
          fontSize: 15,
          textAnchor: "start",
          verticalAlign: "middle"
        },
        labelBounds: (d, i, s) => ({width: 200, height: 30, x: s.r - 0, y: -0})
      },
    })
    .yConfig({
      title: "US + EU (mass)",
      titleConfig: {
        fontSize: function(d){ return 16}
      },
      shapeConfig: {
        labelConfig: {
          fontSize: function(d){ return 16}
        }
      }
    })
    .xDomain([0, 2])
    .xConfig({
      title: "Complexity (normalized ubiquity)",
      titleConfig: {
        fontSize: function(d){ return 16}
      },
      shapeConfig: {
        labelConfig: {
          fontSize: function(d){ return 16}
        }
      }
    })
    .legendConfig({
      shapeConfig: {
        width: 24,
        height: 24,
        labelConfig: {
          fontSize: function(d){ return 22}
        }
      }
    })
    .downloadButton(true)
    .downloadConfig({type: "png"})
    .render();

</script>

</html>
