
<!doctype html>
<html>

<head>

  <meta charset="utf-8">
  <script src="https://www.paballand.com/js/d3plus-geomap.v0.6.full.min.js"></script>

  <style>

    body {
      margin: 0;
      overflow: hidden;
    }

  </style>

</head>

<body></body>

<script>



  var popData =

[
  {
    "id": "AT21",
    "name": "Karnten (AT21)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "BG31",
    "name": "Severozapaden (BG31)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "BG32",
    "name": "Severen tsentralen (BG32)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "BG33",
    "name": "Severoiztochen (BG33)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "BG34",
    "name": "Yugoiztochen (BG34)",
    "value": 2,
    "color": "darkorange"
  },
  {
    "id": "BG42",
    "name": "Yuzhen tsentralen (BG42)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "CZ04",
    "name": "Severozapad (CZ04)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "CZ07",
    "name": "Stredni Morava (CZ07)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "DE22",
    "name": "Niederbayern (DE22)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "DE24",
    "name": "Oberfranken (DE24)",
    "value": 4,
    "color": "blue"
  },
  {
    "id": "DE93",
    "name": "Luneburg (DE93)",
    "value": 3,
    "color": "darkgreen"
  },
  {
    "id": "DEB2",
    "name": "Trier (DEB2)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "EL42",
    "name": "South Aegean (EL42)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "EL43",
    "name": "Crete (EL43)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "EL51",
    "name": "Eastern Macedonia and Thrace (EL51)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "EL52",
    "name": "Central Macedonia (EL52)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "EL53",
    "name": "Western Macedonia (EL53)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "EL54",
    "name": "Epirus (EL54)",
    "value": 2,
    "color": "darkorange"
  },
  {
    "id": "EL61",
    "name": "Thessaly (EL61)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "EL63",
    "name": "Western Greece (EL63)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "EL64",
    "name": "Central Greece (EL64)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "EL65",
    "name": "Peloponnese (EL65)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "ES41",
    "name": "Castilla y Leon (ES41)",
    "value": 2,
    "color": "darkorange"
  },
  {
    "id": "ES43",
    "name": "Extremadura (ES43)",
    "value": 2,
    "color": "darkorange"
  },
  {
    "id": "ES52",
    "name": "Comunitat Valenciana  (ES52)",
    "value": 2,
    "color": "darkorange"
  },
  {
    "id": "ES53",
    "name": "Illes Balears (ES53)",
    "value": 3,
    "color": "darkgreen"
  },
  {
    "id": "ES62",
    "name": "Region de Murcia (ES62)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "FR25",
    "name": "Basse-Normandie  (FRD1)",
    "value": 3,
    "color": "darkgreen"
  },
  {
    "id": "FR21",
    "name": "Champagne-Ardenne (FRF2)",
    "value": 3,
    "color": "darkgreen"
  },
  {
    "id": "FR72",
    "name": "Auvergne (FRK1)",
    "value": 3,
    "color": "darkgreen"
  },
  {
    "id": "HU23",
    "name": "Dél-Dunántúl (HU23)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "ITF2",
    "name": "Molise (ITF2)",
    "value": 2,
    "color": "darkorange"
  },
  {
    "id": "ITF4",
    "name": "Puglia (ITF4)",
    "value": 2,
    "color": "darkorange"
  },
  {
    "id": "ITF5",
    "name": "Basilicata (ITF5)",
    "value": 2,
    "color": "darkorange"
  },
  {
    "id": "ITF6",
    "name": "Calabria (ITF6)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "ITG1",
    "name": "Sicilia (ITG1)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "ITG2",
    "name": "Sardegna (ITG2)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "ITH1",
    "name": "Provincia Autonoma di Bolzano/Bozen (ITH1)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "ITI3",
    "name": "Marche (ITI3)",
    "value": 2,
    "color": "darkorange"
  },
  {
    "id": "PL42",
    "name": "Zachodniopomorskie (PL42)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "PL62",
    "name": "Warminsko-mazurskie (PL62)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "PL33",
    "name": "Swietokrzyskie (PL72)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "PL31",
    "name": "Lubelskie (PL81)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "PL32",
    "name": "Podkarpackie (PL82)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "PL34",
    "name": "Podlaskie (PL84)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "PT16",
    "name": "Centro (PT) (PT16)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "PT18",
    "name": "Alentejo (PT18)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "PT20",
    "name": "Região Autónoma dos Açores (PT20)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "PT30",
    "name": "Região Autónoma da Madeira (PT30)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "RO21",
    "name": "Nord-Est (RO21)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "RO22",
    "name": "Sud-Est (RO22)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "RO31",
    "name": "Sud-Muntenia (RO31)",
    "value": 1,
    "color": "red"
  },
  {
    "id": "RO41",
    "name": "Sud-Vest Oltenia (RO41)",
    "value": 1,
    "color": "red"
  }
]




;


  var chart = new d3plus.Geomap()
    .config({
    data: popData,
    colorScale: "value",
    ocean: "transparent",
    projection: "geoTransverseMercator",
    label: function(d){
      return d.name + ": " + d.color ;
    }
  })

   

  chart
    .topojson(
 "https://www.paballand.com/json/topojson/NUTS_RG_20M_2010_4326-nuts-2-regpat.json" )

    .fitFilter(function(d){
      return ["FRY1", "FRY2", "FRY3", "FRY4", "FRY5", "ES70", "FRY", "ES7", "FRY10", "FRY20", "FRY30", "FRY40", "FRY50", "ES70"].indexOf(d.id) < 0;
    });



  chart
  .colorScaleConfig({color: ["red", "darkorange", "darkgreen", "blue"]})
  .render();

</script>

</html>
