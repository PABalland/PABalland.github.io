<!doctype html>
<html>
<head>
<meta charset="utf-8">
<style>
.knitr .inline{background:#f7f7f7;border:1px solid #B0B0B0;}
.error{font-weight:bold;color:#FF0000;}
.warning{font-weight:bold;}
.message{font-style:italic;}
.source,.output,.warning,.error,.message{padding:0 1em;border:1px solid #F7F7F7;}
.source{background:#f5f5f5;}
.hl.num{color:#AF0F91;}
.hl.str{color:#317ECC;}
.hl.com{color:#AD95AF;font-style:italic;}
.hl.opt{color:#000;}
.hl.std{color:#585858;}
.hl.kwa{color:#295F94;font-weight:bold;}
.hl.kwb{color:#B05A65;}
.hl.kwc{color:#55aa55;}
.hl.kwd{color:#BC5A65;font-weight:bold;}
body{margin:0;overflow:hidden;font-family:Arial,Helvetica,sans-serif;}
.container{display:flex;flex-direction:column;height:100vh;}
#chart{flex:1 1 auto;}
.legend{display:flex;justify-content:center;padding:12px 0;}
.legend-item{display:flex;align-items:center;margin:0 24px;font-size:28px;}
.box{width:28px;height:28px;margin-right:10px;border:none;}
.pos{background:#2d7c2d;}
.neg{background:#8B1A0F;}
</style>
<script src="https://cdn.jsdelivr.net/npm/d3plus-hierarchy@1"></script>
</head>
<body>
<div class="container">
  <div id="chart"></div>
  <div class="legend">
    <div class="legend-item"><span class="box pos"></span><span>Techn. RCA &gt; 1</span></div>
    <div class="legend-item"><span class="box neg"></span><span>Techn. RCA &lt; 1</span></div>
  </div>
</div>

<script>
var data= [
  {
    "domain": "AI & Big Data",
    "geo": "Lower Saxony (DE9)",
    "count": 347,
    "rca": 0.79,
    "share": 1.6131,
    "share_d": 2.049,
    "reldens": 29.53,
    "comp_PA": 75.58,
    "comp_TCI": 39,
    "parent": "ICT",
    "color2": "#365a94",
    "color": "#CBBCBC",
    "id": "AI & Big Data",
    "value": 347
  },
  {
    "domain": "Automation & robotics",
    "geo": "Lower Saxony (DE9)",
    "count": 124,
    "rca": 0.89,
    "share": 0.5764,
    "share_d": 0.6459,
    "reldens": 61.09,
    "comp_PA": 63.4,
    "comp_TCI": 58.49,
    "parent": "ICT",
    "color2": "#365a94",
    "color": "#CFC7C7",
    "id": "Automation & robotics",
    "value": 124
  },
  {
    "domain": "Autonomous & connected mobility",
    "geo": "Lower Saxony (DE9)",
    "count": 549,
    "rca": 2.82,
    "share": 2.5522,
    "share_d": 0.9037,
    "reldens": 67.73,
    "comp_PA": 72.24,
    "comp_TCI": 56.91,
    "parent": "Future Mobility",
    "color2": "#6a0dad",
    "color": "#458945",
    "id": "Autonomous & connected mobility",
    "value": 549
  },
  {
    "domain": "Biophotonics",
    "geo": "Lower Saxony (DE9)",
    "count": 243,
    "rca": 0.86,
    "share": 1.1297,
    "share_d": 1.3074,
    "reldens": 26.31,
    "comp_PA": 70.33,
    "comp_TCI": 48.63,
    "parent": "Life Sciences",
    "color2": "#EEDC82",
    "color": "#CEC4C4",
    "id": "Biophotonics",
    "value": 243
  },
  {
    "domain": "Bioprocess technology",
    "geo": "Lower Saxony (DE9)",
    "count": 338,
    "rca": 0.88,
    "share": 1.5713,
    "share_d": 1.7905,
    "reldens": 23.96,
    "comp_PA": 60.82,
    "comp_TCI": 42.89,
    "parent": "AgriFood Tech",
    "color2": "#800020",
    "color": "#CFC6C6",
    "id": "Bioprocess technology",
    "value": 338
  },
  {
    "domain": "Biotechnologies",
    "geo": "Lower Saxony (DE9)",
    "count": 207,
    "rca": 0.97,
    "share": 0.9623,
    "share_d": 0.9886,
    "reldens": 17.94,
    "comp_PA": 63.9,
    "comp_TCI": 43.05,
    "parent": "Life Sciences",
    "color2": "#EEDC82",
    "color": "#D2D0D0",
    "id": "Biotechnologies",
    "value": 207
  },
  {
    "domain": "CCS / CCU",
    "geo": "Lower Saxony (DE9)",
    "count": 47,
    "rca": 1.07,
    "share": 0.2185,
    "share_d": 0.2047,
    "reldens": 41.87,
    "comp_PA": 51.52,
    "comp_TCI": 49.96,
    "parent": "Climate Tech",
    "color2": "#8cab79",
    "color": "#AFC0AF",
    "id": "CCS / CCU",
    "value": 47
  },
  {
    "domain": "CO2-neutral production",
    "geo": "Lower Saxony (DE9)",
    "count": 471,
    "rca": 1.04,
    "share": 2.1896,
    "share_d": 2.1002,
    "reldens": 39.05,
    "comp_PA": 62.04,
    "comp_TCI": 53.02,
    "parent": "Industrial Tech",
    "color2": "#e28f26",
    "color": "#B7C5B7",
    "id": "CO2-neutral production",
    "value": 471
  },
  {
    "domain": "Cyber defense & infrastructure",
    "geo": "Lower Saxony (DE9)",
    "count": 47,
    "rca": 0.8,
    "share": 0.2185,
    "share_d": 0.2729,
    "reldens": 28.44,
    "comp_PA": 69.05,
    "comp_TCI": 40.77,
    "parent": "Defense Tech",
    "color2": "#8B4513",
    "color": "#CBBDBD",
    "id": "Cyber defense & infrastructure",
    "value": 47
  },
  {
    "domain": "Cybersecurity",
    "geo": "Lower Saxony (DE9)",
    "count": 96,
    "rca": 0.57,
    "share": 0.4463,
    "share_d": 0.785,
    "reldens": 24.18,
    "comp_PA": 71.33,
    "comp_TCI": 40.26,
    "parent": "ICT",
    "color2": "#365a94",
    "color": "#C19F9F",
    "id": "Cybersecurity",
    "value": 96
  },
  {
    "domain": "Data ecosystems",
    "geo": "Lower Saxony (DE9)",
    "count": 67,
    "rca": 0.77,
    "share": 0.3115,
    "share_d": 0.4049,
    "reldens": 29.37,
    "comp_PA": 66.57,
    "comp_TCI": 47.84,
    "parent": "Industrial Tech",
    "color2": "#e28f26",
    "color": "#CAB9B9",
    "id": "Data ecosystems",
    "value": 67
  },
  {
    "domain": "Data sciences & digital health",
    "geo": "Lower Saxony (DE9)",
    "count": 64,
    "rca": 0.36,
    "share": 0.2975,
    "share_d": 0.8254,
    "reldens": 18.77,
    "comp_PA": 64.24,
    "comp_TCI": 37.84,
    "parent": "Life Sciences",
    "color2": "#EEDC82",
    "color": "#B67F7F",
    "id": "Data sciences & digital health",
    "value": 64
  },
  {
    "domain": "Geothermal energy",
    "geo": "Lower Saxony (DE9)",
    "count": 47,
    "rca": 0.92,
    "share": 0.2185,
    "share_d": 0.2376,
    "reldens": 18.84,
    "comp_PA": 62.07,
    "comp_TCI": 57.16,
    "parent": "Climate Tech",
    "color2": "#8cab79",
    "color": "#D0CACA",
    "id": "Geothermal energy",
    "value": 47
  },
  {
    "domain": "Immersive technologies",
    "geo": "Lower Saxony (DE9)",
    "count": 116,
    "rca": 0.94,
    "share": 0.5393,
    "share_d": 0.5764,
    "reldens": 34.55,
    "comp_PA": 75.45,
    "comp_TCI": 41.61,
    "parent": "ICT",
    "color2": "#365a94",
    "color": "#D1CDCD",
    "id": "Immersive technologies",
    "value": 116
  },
  {
    "domain": "Individual mass production",
    "geo": "Lower Saxony (DE9)",
    "count": 162,
    "rca": 1.05,
    "share": 0.7531,
    "share_d": 0.7139,
    "reldens": 47.53,
    "comp_PA": 61.32,
    "comp_TCI": 65.35,
    "parent": "Industrial Tech",
    "color2": "#e28f26",
    "color": "#B4C3B4",
    "id": "Individual mass production",
    "value": 162
  },
  {
    "domain": "Industrial robotics",
    "geo": "Lower Saxony (DE9)",
    "count": 223,
    "rca": 1.04,
    "share": 1.0367,
    "share_d": 0.9922,
    "reldens": 51.77,
    "comp_PA": 62.59,
    "comp_TCI": 58.86,
    "parent": "Industrial Tech",
    "color2": "#e28f26",
    "color": "#B7C5B7",
    "id": "Industrial robotics",
    "value": 223
  },
  {
    "domain": "Maritime technology",
    "geo": "Lower Saxony (DE9)",
    "count": 83,
    "rca": 1.43,
    "share": 0.3858,
    "share_d": 0.2702,
    "reldens": 45.16,
    "comp_PA": 46.71,
    "comp_TCI": 45.01,
    "parent": "Defense Tech",
    "color2": "#8B4513",
    "color": "#80A780",
    "id": "Maritime technology",
    "value": 83
  },
  {
    "domain": "Medical technology",
    "geo": "Lower Saxony (DE9)",
    "count": 331,
    "rca": 0.56,
    "share": 1.5387,
    "share_d": 2.7391,
    "reldens": 30.09,
    "comp_PA": 58.66,
    "comp_TCI": 43.59,
    "parent": "Life Sciences",
    "color2": "#EEDC82",
    "color": "#C19E9E",
    "id": "Medical technology",
    "value": 331
  },
  {
    "domain": "Mobility services",
    "geo": "Lower Saxony (DE9)",
    "count": 1258,
    "rca": 1.96,
    "share": 5.8482,
    "share_d": 2.9889,
    "reldens": 62.58,
    "comp_PA": 66.24,
    "comp_TCI": 61.95,
    "parent": "Future Mobility",
    "color2": "#6a0dad",
    "color": "#619761",
    "id": "Mobility services",
    "value": 1258
  },
  {
    "domain": "More flexible energy systems",
    "geo": "Lower Saxony (DE9)",
    "count": 63,
    "rca": 1.1,
    "share": 0.2929,
    "share_d": 0.2663,
    "reldens": 38.78,
    "comp_PA": 68.56,
    "comp_TCI": 55.45,
    "parent": "Climate Tech",
    "color2": "#8cab79",
    "color": "#A8BCA8",
    "id": "More flexible energy systems",
    "value": 63
  },
  {
    "domain": "Nanotechnologies",
    "geo": "Lower Saxony (DE9)",
    "count": 19,
    "rca": 0.47,
    "share": 0.0883,
    "share_d": 0.1875,
    "reldens": 15.83,
    "comp_PA": 66.29,
    "comp_TCI": 49.83,
    "parent": "Deep Tech",
    "color2": "#669999",
    "color": "#BC9191",
    "id": "Nanotechnologies",
    "value": 19
  },
  {
    "domain": "Neural interfaces",
    "geo": "Lower Saxony (DE9)",
    "count": 76,
    "rca": 1.36,
    "share": 0.3533,
    "share_d": 0.2607,
    "reldens": 33.79,
    "comp_PA": 56.66,
    "comp_TCI": 44.5,
    "parent": "Deep Tech",
    "color2": "#669999",
    "color": "#86AA86",
    "id": "Neural interfaces",
    "value": 76
  },
  {
    "domain": "Nuclear fusion",
    "geo": "Lower Saxony (DE9)",
    "count": 3,
    "rca": 0.31,
    "share": 0.0139,
    "share_d": 0.0456,
    "reldens": 13.91,
    "comp_PA": 54.48,
    "comp_TCI": 53.97,
    "parent": "Climate Tech",
    "color2": "#8cab79",
    "color": "#B37575",
    "id": "Nuclear fusion",
    "value": 3
  },
  {
    "domain": "Optics & photonics",
    "geo": "Lower Saxony (DE9)",
    "count": 300,
    "rca": 0.74,
    "share": 1.3946,
    "share_d": 1.894,
    "reldens": 25.77,
    "comp_PA": 71.46,
    "comp_TCI": 51.82,
    "parent": "Deep Tech",
    "color2": "#669999",
    "color": "#C9B6B6",
    "id": "Optics & photonics",
    "value": 300
  },
  {
    "domain": "Overall defense strategy",
    "geo": "Lower Saxony (DE9)",
    "count": 294,
    "rca": 1.24,
    "share": 1.3667,
    "share_d": 1.1041,
    "reldens": 46.25,
    "comp_PA": 67.7,
    "comp_TCI": 47.41,
    "parent": "Defense Tech",
    "color2": "#8B4513",
    "color": "#93B193",
    "id": "Overall defense strategy",
    "value": 294
  },
  {
    "domain": "Personalized medicine",
    "geo": "Lower Saxony (DE9)",
    "count": 53,
    "rca": 0.52,
    "share": 0.2464,
    "share_d": 0.4748,
    "reldens": 10.61,
    "comp_PA": 65.8,
    "comp_TCI": 41.8,
    "parent": "Life Sciences",
    "color2": "#EEDC82",
    "color": "#BF9898",
    "id": "Personalized medicine",
    "value": 53
  },
  {
    "domain": "Personalized nutrition",
    "geo": "Lower Saxony (DE9)",
    "count": 31,
    "rca": 0.54,
    "share": 0.1441,
    "share_d": 0.2686,
    "reldens": 32.85,
    "comp_PA": 56.62,
    "comp_TCI": 43.92,
    "parent": "AgriFood Tech",
    "color2": "#800020",
    "color": "#C09B9B",
    "id": "Personalized nutrition",
    "value": 31
  },
  {
    "domain": "Platform economy",
    "geo": "Lower Saxony (DE9)",
    "count": 36,
    "rca": 2.14,
    "share": 0.1674,
    "share_d": 0.0782,
    "reldens": 66.32,
    "comp_PA": 48.2,
    "comp_TCI": 57.08,
    "parent": "AgriFood Tech",
    "color2": "#800020",
    "color": "#5A935A",
    "id": "Platform economy",
    "value": 36
  },
  {
    "domain": "Precision breeding",
    "geo": "Lower Saxony (DE9)",
    "count": 146,
    "rca": 2.56,
    "share": 0.6787,
    "share_d": 0.2648,
    "reldens": 30.43,
    "comp_PA": 59.41,
    "comp_TCI": 46.9,
    "parent": "AgriFood Tech",
    "color2": "#800020",
    "color": "#4C8C4C",
    "id": "Precision breeding",
    "value": 146
  },
  {
    "domain": "Private air transport",
    "geo": "Lower Saxony (DE9)",
    "count": 32,
    "rca": 0.61,
    "share": 0.1488,
    "share_d": 0.2442,
    "reldens": 31.98,
    "comp_PA": 63.56,
    "comp_TCI": 43.29,
    "parent": "Future Mobility",
    "color2": "#6a0dad",
    "color": "#C3A5A5",
    "id": "Private air transport",
    "value": 32
  },
  {
    "domain": "Quantum technologies",
    "geo": "Lower Saxony (DE9)",
    "count": 16,
    "rca": 0.32,
    "share": 0.0744,
    "share_d": 0.2289,
    "reldens": 17.44,
    "comp_PA": 73.71,
    "comp_TCI": 46.93,
    "parent": "Deep Tech",
    "color2": "#669999",
    "color": "#B47777",
    "id": "Quantum technologies",
    "value": 16
  },
  {
    "domain": "Semiconductors & microchips",
    "geo": "Lower Saxony (DE9)",
    "count": 39,
    "rca": 0.29,
    "share": 0.1813,
    "share_d": 0.6277,
    "reldens": 18.16,
    "comp_PA": 75.34,
    "comp_TCI": 57.78,
    "parent": "Deep Tech",
    "color2": "#669999",
    "color": "#B27272",
    "id": "Semiconductors & microchips",
    "value": 39
  },
  {
    "domain": "Smart factories",
    "geo": "Lower Saxony (DE9)",
    "count": 119,
    "rca": 1.42,
    "share": 0.5532,
    "share_d": 0.3902,
    "reldens": 59.7,
    "comp_PA": 66.72,
    "comp_TCI": 66.37,
    "parent": "Industrial Tech",
    "color2": "#e28f26",
    "color": "#81A881",
    "id": "Smart factories",
    "value": 119
  },
  {
    "domain": "Smart farming",
    "geo": "Lower Saxony (DE9)",
    "count": 138,
    "rca": 4.1,
    "share": 0.6415,
    "share_d": 0.1564,
    "reldens": 72.48,
    "comp_PA": 40.73,
    "comp_TCI": 52.68,
    "parent": "AgriFood Tech",
    "color2": "#800020",
    "color": "#2E7C2E",
    "id": "Smart farming",
    "value": 138
  },
  {
    "domain": "Space logistics",
    "geo": "Lower Saxony (DE9)",
    "count": 9,
    "rca": 0.27,
    "share": 0.0418,
    "share_d": 0.1552,
    "reldens": 17.35,
    "comp_PA": 60.15,
    "comp_TCI": 46.15,
    "parent": "Future Mobility",
    "color2": "#6a0dad",
    "color": "#B06E6E",
    "id": "Space logistics",
    "value": 9
  },
  {
    "domain": "UAS & drone defense",
    "geo": "Lower Saxony (DE9)",
    "count": 14,
    "rca": 0.72,
    "share": 0.0651,
    "share_d": 0.0898,
    "reldens": 34.91,
    "comp_PA": 68.52,
    "comp_TCI": 49.32,
    "parent": "Defense Tech",
    "color2": "#8B4513",
    "color": "#C8B3B3",
    "id": "UAS & drone defense",
    "value": 14
  },
  {
    "domain": "Ubiquitous computing",
    "geo": "Lower Saxony (DE9)",
    "count": 93,
    "rca": 0.66,
    "share": 0.4323,
    "share_d": 0.66,
    "reldens": 31.87,
    "comp_PA": 65.84,
    "comp_TCI": 43.61,
    "parent": "ICT",
    "color2": "#365a94",
    "color": "#C5ABAB",
    "id": "Ubiquitous computing",
    "value": 93
  },
  {
    "domain": "Water purification",
    "geo": "Lower Saxony (DE9)",
    "count": 123,
    "rca": 0.9,
    "share": 0.5718,
    "share_d": 0.6366,
    "reldens": 35.27,
    "comp_PA": 51.57,
    "comp_TCI": 46.46,
    "parent": "Climate Tech",
    "color2": "#8cab79",
    "color": "#CFC8C8",
    "id": "Water purification",
    "value": 123
  },
  {
    "domain": "Weapon systems & ammunition",
    "geo": "Lower Saxony (DE9)",
    "count": 98,
    "rca": 2.55,
    "share": 0.4556,
    "share_d": 0.1785,
    "reldens": 70.26,
    "comp_PA": 39.86,
    "comp_TCI": 48.98,
    "parent": "Defense Tech",
    "color2": "#8B4513",
    "color": "#4C8C4C",
    "id": "Weapon systems & ammunition",
    "value": 98
  }
] ; new d3plus.Treemap().select("#chart").data(data).groupBy(["parent","id"]).tooltipConfig({body:function(d){return"<table><tr><td>Count:</td><td>"+d.count+"</td></tr><tr><td>RCA:</td><td>"+d.rca+"</td></tr></table>";},title:function(d){var t=d.id;return t.charAt(0).toUpperCase()+t.substr(1).toUpperCase();}}).sum("value").layoutPadding(1.25).legend(false).color("color").render();
</script>
</body>
</html>
